<!doctype html>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>WowFreightOS Dashboard</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,Arial; margin:16px; color:#e6e6e6; background:#0f172a}
  h1{margin:0 0 12px}
  .grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(360px,1fr)); gap:12px}
  .card{background:#0b1220; border:1px solid #1f2937; border-radius:12px; padding:8px}
  iframe{width:100%; height:280px; border:0; background:#0b1220; border-radius:10px}
  .muted{opacity:.7}
</style>
<h1>WowFreightOS</h1>
<p class="muted">Auto-discovered widgets (iframe) from /registry.json</p>
<div class="grid" id="grid"></div>
<script>
async function boot(){
  const res = await fetch('/registry.json');
  const regs = await res.json();
  const grid = document.getElementById('grid');
  grid.innerHTML = '';
  for(const w of regs){
    const card = document.createElement('div'); card.className='card';
    card.innerHTML = \`<div style="display:flex;justify-content:space-between;align-items:center;">
      <strong>\${w.title}</strong><span class="muted">\${w.version}</span></div>\`;
    const ifr = document.createElement('iframe');
    ifr.src = w.entry; card.appendChild(ifr);
    grid.appendChild(card);
  }
}
boot();
</script>
